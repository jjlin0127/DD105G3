<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>果甘話區話題 | 天然甘</title>
    <link rel="shortcut icon" href="./images/shortIcon.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/page/forum/forum_article.css">
</head>
<body>
    @@include('layout/header.html',{
        "focus06" : "focus"
    })
    <div class="wrapper_article">
        <div class="article_container">
            <div class="article_area">
                <a href="forum.html" id="back_btn"></a>
                <div class="post post1">
                    <div class="author">
                        <div class="author_img">
                            <img src="./images/forum/head_shot/mwyqpL.jpg" alt="">
                        </div>
                        <p class="author_name">某人</p>
                    </div>
                    <p class="post_title">無加糖紅肉火龍果乾</p>
                    <div class="post_topic post_topic1">
                        <img src="./images/forum/circled1.jpg">
                        <span class="topic1">幫助消化</span>
                        <span class="post_time">2020-02-22 15:45:00</span>
                    </div>
                    <p class="post_content">紅肉火龍果，
                        特有的紅色果肉，
                        含有一般植物少有的植物性「白蛋白」及花青素，
                        維生素C的含量也較其他蔬果來得豐富，是台灣普遍喜愛的水果之一。
                        
                        幸福的無加糖火龍果乾，
                        選用臺灣的紅肉火龍果下去低溫烘製而成，
                        除了吃的到火龍果濃郁的香、水果原本的甜與農民的愛之外，
                        更吃的到我們的用心，適合喜愛自然原味的您。
                    </p>
                    <div class="post_hashtag post1_hashtag">
                        <span class="fruit_kind fruit_kind1">楊桃</span>
                        <span class="fruit_kind fruit_kind1">鳳梨</span>
                        <span class="fruit_kind fruit_kind2">香蕉</span>
                        <span class="fruit_kind fruit_kind2">草莓</span>
                        <span class="fruit_kind fruit_kind3">芒果</span>
                        <span class="fruit_kind fruit_kind3">蘋果</span>
                    </div>
                    <div class="social_zone">
                        <div class="likeAndComment">
                            <i class="fas fa-heart"></i>
                            <p class="like_count">10</p>
                            <i class="fas fa-comment"></i>
                            <p class="comment_count">2</p>
                        </div>
                        <div class="favoriteAndReport">
                            <div class="postfunc like">
                                <i class="socialBtns likeBtns"></i>
                                <span class="tooltiptext">愛心</span>
                            </div>
                            <div class="postfunc favorite">
                                <i class="socialBtns favoriteBtns"></i>
                                <span class="tooltiptext">收藏</span>
                            </div>
                            <div class="postfunc subscript">
                                <i class="socialBtns subscriptBtns"></i>
                                <span class="tooltiptext">訂閱</span>
                            </div>
                            <div class="postfunc report">
                                <i class="reportBtns"></i>
                                <span class="tooltiptext">檢舉</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="comments_area">
                    <p>話題留言</p>
                    <div class="comment comment1">
                        <div class="author">
                            <div class="author_img">
                                <img src="./images/forum/head_shot/twuPTC.jpg" alt="">
                            </div>
                            <p class="author_name">某人<span class="comment_time">2020-02-22 15:45:00</span></p>
                        </div>                    
                        <p class="comment_content"> 
                            幸福的無加糖火龍果乾，
                            選用臺灣的紅肉火龍果下去低溫烘製而成，
                            除了吃的到火龍果濃郁的香、水果原本的甜與農民的愛之外，
                            更吃的到我們的用心，適合喜愛自然原味的您。
                        </p>
                        <div class="social_zone">
                            <div class="likeAndComment">
                                <i class="fas fa-heart"></i>
                                <p class="like_count">7</p>
                            </div>
                            <div class="favoriteAndReport">
                                <div class="postfunc like">
                                    <i class="socialBtns likeBtns"></i>
                                    <span class="tooltiptext">愛心</span>
                                </div>
                                <div class="postfunc report">
                                    <i class="reportBtns"></i>
                                    <span class="tooltiptext">檢舉</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="comment comment2">
                        <div class="author">
                            <div class="author_img">
                                <img src="./images/forum/head_shot/ZmPb3D.jpg" alt="">
                            </div>
                            <p class="author_name">某人某人某人某人某人<span class="comment_time">2020-02-22 15:45:00</span></p>
                        </div>                    
                        <p class="comment_content"> 
                            幸福的無加糖火龍果乾，
                            選用臺灣的紅肉火龍果下去低溫烘製而成，
                            除了吃的到火龍果濃郁的香、水果原本的甜與農民的愛之外，
                            更吃的到我們的用心，適合喜愛自然原味的您。
                        </p>
                        <div class="social_zone">
                            <div class="likeAndComment">
                                <i class="fas fa-heart"></i>
                                <p class="like_count">9</p>
                            </div>
                            <div class="favoriteAndReport">
                                <div class="postfunc like">
                                    <i class="socialBtns likeBtns"></i>
                                    <span class="tooltiptext">愛心</span>
                                </div>
                                <div class="postfunc report">
                                    <i class="reportBtns"></i>
                                    <span class="tooltiptext">檢舉</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="comment_zone">
                        <!-- <p>我要留言</p> -->
                        <form method="post" action="" class="comment_form">
                            <textarea name="" id="" maxlength="350" placeholder="最多輸入300個字"></textarea>
                            <div class="comment_btns">
                                <button type="submit" class="comment_submit_btn">發表留言</button>
                                <button type="reset" class="comment_reset_btn">清除重填</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- alert start -->
        <div id="alertBox" class="alertBox hidden">
            <span id="close_alert_btn">&times;</span>
            <span id="alertMessage"></span>
          </div>
        <!-- alert end -->

        <!-- report popbox start -->
        <div id="reportBox" class="reportBox hidden">
            <form method="post" action="">
                <h5>檢舉原因</h5>
                <div class="options_set set_report_reasons"> 
                    <div class="option">
                        <input type="radio" name="set_report_reason" id="abuse">
                        <label for="abuse">中傷、歧視或謾罵他人</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="set_report_reason" id="spamming">
                        <label for="spamming">惡意洗版、重複張貼</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="set_report_reason" id="intense">
                        <label for="intense">含色情、血腥或暴力等內容</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="set_report_reason" id="other">
                        <label for="other">其他原因</label>
                    </div>
                    <div class="reportBox_btns">
                        <button type="submit" id="submit_report_btn">送出</button>
                        <span id="cancel_report_btn">取消</span>
                    </div>
                </div>
            </form>
        </div>
        <!-- popbox end -->
    </div>
    @@include('./layout/footer.html') 
    <script src="https://use.fontawesome.com/releases/v5.10.1/js/all.js"></script>
    <script>
        //  social btns toggle css-checked
        function doFirst(){
            let socialBtns = document.getElementsByClassName('socialBtns');
            for(let i=0; i<socialBtns.length; i++){
                socialBtns[i].addEventListener('click', socialBtnCheck);
            }

            let reportBtns = document.getElementsByClassName('reportBtns');
            for(let i=0; i<reportBtns.length; i++){
                reportBtns[i].addEventListener('click', reportPost);
            }
        }

        function socialBtnCheck(){
            let alertBox = document.getElementById('alertBox');
            let alertMessage = document.getElementById('alertMessage');
            let close_alert_btn = document.getElementById('close_alert_btn');

            this.classList.toggle('checked');
            alertBox.classList.remove('hidden');

            if(this.classList.contains('likeBtns') && this.classList.contains('checked')){
                alertBox.style.backgroundColor = "crimson";
                alertBox.style.boxShadow = "2px 2px 5px rgba(220, 20, 60, 0.75)";
                alertMessage.innerText = '表達愛心成功！';
                // let plusCount = parseInt(this.parentNode.parentNode.parentNode.getElementsByClassName('like_count')[0].innerText);
                // plusCount++;
                // alert(plusCount);
            }else if(this.classList.contains('likeBtns')){
                alertBox.style.backgroundColor = "crimson";
                alertBox.style.boxShadow = "2px 2px 5px rgba(220, 20, 60, 0.75)";
                alertMessage.innerText = '已取消表達愛心！';
                // let minusCount = parseInt(this.parentNode.parentNode.parentNode.getElementsByClassName('like_count')[0].innerText);
                // minusCount--;
                // alert(minusCount);
            }else if(this.classList.contains('favoriteBtns') && this.classList.contains('checked')){
                alertBox.style.backgroundColor = "royalblue";
                alertBox.style.boxShadow = "2px 2px 5px rgba(65, 105, 225, 0.75)";
                alertMessage.innerText = '收藏話題成功！';
            }else if(this.classList.contains('favoriteBtns')){
                alertBox.style.backgroundColor = "royalblue";
                alertBox.style.boxShadow = "2px 2px 5px rgba(65, 105, 225, 0.75)";
                alertMessage.innerText = '已取消收藏話題！';
            }else if(this.classList.contains('subscriptBtns') && this.classList.contains('checked')){
                alertBox.style.backgroundColor = "darkorange";
                alertBox.style.boxShadow = "2px 2px 5px rgba(255, 140, 0, 0.75)";
                alertMessage.innerText = '訂閱作者成功！';
            }else if(this.classList.contains('subscriptBtns')){
                alertBox.style.backgroundColor = "darkorange";
                alertBox.style.boxShadow = "2px 2px 5px rgba(255, 140, 0, 0.75)";
                alertMessage.innerText = '已取消訂閱作者！';
            }

            close_alert_btn.addEventListener('click', function(){
                alertBox.classList.add('hidden');
            });

            setTimeout(function(){
                alertBox.classList.add('hidden');
            }, 2000);
        }

        function reportPost(e){
            e.target.classList.add('checked');
            let reportBox = document.getElementById('reportBox');
            reportBox.classList.remove('hidden');

            document.getElementById('cancel_report_btn').addEventListener('click', function(){
                reportBox.classList.add('hidden');
                e.target.classList.remove('checked');
            });
        }

        window.addEventListener('load', doFirst);
    </script>
</body>
</html>